{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Send}from'lucide-react';import axios from'axios';import'./ChatInterface.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const starterPrompts=[{label:\"Access arXiv and summarize the introduction of a recent paper on quantum gravity\",type:\"research\"},{label:\"Find a recent arXiv paper on string theory and explain its key results\",type:\"research\"},{label:\"Fetch a paper on arXiv related to dark matter and summarize it\",type:\"research\"},{label:\"Use arXiv to compare two recent studies on quantum computing\",type:\"research\"},{label:\"Access arXiv and provide BibTeX citation for a paper on black hole thermodynamics\",type:\"research\"},{label:\"What‚Äôs a good intro to General Relativity?\",type:\"general\"},{label:\"Explain reinforcement learning simply\",type:\"general\"}];const ChatInterface=_ref=>{let{messages,onUpdateMessages}=_ref;const[input,setInput]=useState('');const[isTyping,setIsTyping]=useState(false);const bottomRef=useRef(null);useEffect(()=>{if(bottomRef.current){bottomRef.current.scrollIntoView({behavior:'smooth'});}},[messages,isTyping]);const handleSend=async e=>{e.preventDefault();if(!input.trim())return;const userMsg={type:'user',text:input};const updatedMessages=[...messages,userMsg];onUpdateMessages(updatedMessages);setInput('');setIsTyping(true);try{const res=await axios.post('http://localhost:4000/api/chat',{message:input});const botMsg={type:'bot',text:res.data.response||\"‚ö†Ô∏è No response received.\"};onUpdateMessages([...updatedMessages,botMsg]);}catch(err){console.error(\"Error:\",err);const errorMsg={type:'bot',text:\"‚ùå Something went wrong. Try again.\"};onUpdateMessages([...updatedMessages,errorMsg]);}finally{setIsTyping(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-content\",children:[messages.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"chat-suggestions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-tip\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" To get real arXiv papers, explicitly ask for a paper or mention \\\"arXiv\\\" in your prompt. Blue color coded prompts are ArXiV inducing, which gray ones are for general use.\"]}),starterPrompts.map((prompt,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInput(prompt.label),className:\"suggestion-btn \".concat(prompt.type),children:prompt.label},i))]}),messages.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"chat-msg \".concat(msg.type),children:/*#__PURE__*/_jsx(\"div\",{className:\"msg-bubble\",children:msg.text})},i)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"chat-msg bot\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"msg-bubble typing\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"})]})}),/*#__PURE__*/_jsx(\"div\",{ref:bottomRef})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"chat-input-area\",onSubmit:handleSend,children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:e=>setInput(e.target.value),placeholder:\"Ask Cosmico anything...\",className:\"chat-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!input.trim(),className:\"chat-send\",children:/*#__PURE__*/_jsx(Send,{size:18})})]})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","axios","jsx","_jsx","jsxs","_jsxs","starterPrompts","label","type","ChatInterface","_ref","messages","onUpdateMessages","input","setInput","isTyping","setIsTyping","bottomRef","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","userMsg","text","updatedMessages","res","post","message","botMsg","data","response","err","console","error","errorMsg","className","children","length","map","prompt","i","onClick","concat","msg","ref","onSubmit","value","onChange","target","placeholder","disabled","size"],"sources":["/Users/bipulb/Desktop/Cosmico-Backend-main/Frontend/src/components/ChatInterface.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Send } from 'lucide-react';\nimport axios from 'axios';\nimport './ChatInterface.css';\n\nconst starterPrompts = [\n  {\n    label: \"Access arXiv and summarize the introduction of a recent paper on quantum gravity\",\n    type: \"research\"\n  },\n  {\n    label: \"Find a recent arXiv paper on string theory and explain its key results\",\n    type: \"research\"\n  },\n  {\n    label: \"Fetch a paper on arXiv related to dark matter and summarize it\",\n    type: \"research\"\n  },\n  {\n    label: \"Use arXiv to compare two recent studies on quantum computing\",\n    type: \"research\"\n  },\n  {\n    label: \"Access arXiv and provide BibTeX citation for a paper on black hole thermodynamics\",\n    type: \"research\"\n  },\n  {\n    label: \"What‚Äôs a good intro to General Relativity?\",\n    type: \"general\"\n  },\n  {\n    label: \"Explain reinforcement learning simply\",\n    type: \"general\"\n  }\n];\n\nconst ChatInterface = ({ messages, onUpdateMessages }) => {\n  const [input, setInput] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const bottomRef = useRef(null);\n\n  useEffect(() => {\n    if (bottomRef.current) {\n      bottomRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages, isTyping]);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n\n    const userMsg = { type: 'user', text: input };\n    const updatedMessages = [...messages, userMsg];\n    onUpdateMessages(updatedMessages);\n    setInput('');\n    setIsTyping(true);\n\n    try {\n      const res = await axios.post('http://localhost:4000/api/chat', {\n        message: input\n      });\n\n      const botMsg = {\n        type: 'bot',\n        text: res.data.response || \"‚ö†Ô∏è No response received.\"\n      };\n\n      onUpdateMessages([...updatedMessages, botMsg]);\n    } catch (err) {\n      console.error(\"Error:\", err);\n      const errorMsg = {\n        type: 'bot',\n        text: \"‚ùå Something went wrong. Try again.\"\n      };\n      onUpdateMessages([...updatedMessages, errorMsg]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  return (\n    <div className=\"chatbox\">\n      <div className=\"chat-content\">\n        {messages.length === 0 && (\n          <div className=\"chat-suggestions\">\n            <div className=\"chat-tip\">\n              üí° <strong>Tip:</strong> To get real arXiv papers, explicitly ask for a paper or mention \"arXiv\" in your prompt. Blue color coded prompts are ArXiV inducing, which gray ones are for general use.\n            </div>\n            {starterPrompts.map((prompt, i) => (\n              <button\n                key={i}\n                onClick={() => setInput(prompt.label)}\n                className={`suggestion-btn ${prompt.type}`}\n              >\n                {prompt.label}\n              </button>\n            ))}\n          </div>\n        )}\n\n        {messages.map((msg, i) => (\n          <div key={i} className={`chat-msg ${msg.type}`}>\n            <div className=\"msg-bubble\">{msg.text}</div>\n          </div>\n        ))}\n\n        {isTyping && (\n          <div className=\"chat-msg bot\">\n            <div className=\"msg-bubble typing\">\n              <span className=\"dot\" /><span className=\"dot\" /><span className=\"dot\" />\n            </div>\n          </div>\n        )}\n\n        <div ref={bottomRef}></div>\n      </div>\n\n      <form className=\"chat-input-area\" onSubmit={handleSend}>\n        <input\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Ask Cosmico anything...\"\n          className=\"chat-input\"\n        />\n        <button type=\"submit\" disabled={!input.trim()} className=\"chat-send\">\n          <Send size={18} />\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}